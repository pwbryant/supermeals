<!doctype html>
<style>
	#id_choose_macros_form_container {
		display:none;
	}
	#id_meal_template_meals_number_form_container {
		display:none;
	}
</style>
<div>
	<div id="id_my_macros_form_container">
		<div id="id_tdee_form_container">
			<table><tr>
			{% for choice in form.unit_type %}
				<td>{{ choice }}</td>
			{% endfor %}
			</tr>
			<tr>
			{% for choice in form.gender %}
				{% if forloop.counter != 1 %}
					<td>{{ choice }}</td>
				{% endif %}
			{% endfor %}
			</tr></table>
			<br>
			<table><tr><td></td><td></td><td></td></tr>
				<tr><td><span id="id_age_label">{{ form.age.label_tag }}<span></td><td>{{ form.age }}</td></tr>
				<tr><td><span id="id_weight_label"><b>Weight:</b></span></td>
				<td id='id_weight_cell'>
				{% if form.unit_type.initial == "imperial" %}
					{{ form.i_weight }}
				{% endif %}
				{% if form.unit_type.initial == "metric" %}
					{{ form.m_weight }}
				{% endif %}
				</td>
				</tr>

				<tr id='id_height_row'><td><span id="id_height_label"><b>Height:</b></span></td>
				{% if form.unit_type.initial == "imperial" %}
					<td>{{ form.i_height_0 }}</td>
					<td>{{ form.i_height_1 }}</td>
				{% endif %}
				{% if form.unit_type.initial == "metric" %}
					<td>{{ form.m_height }}</td>
				{% endif %}
				</tr>
			</table>
			<br>
			{% for choice in form.activity %}
			<span id='{{ choice.data.attrs.id }}_span'>{{ choice }}</span>
			{% endfor %}
			<br>
			<span><p>Desired Weight Change</p></span>
				
			{% for choice in form.direction %}
			<span id='{{ choice.data.attrs.id }}_span'>{{ choice }}</span>
			{% endfor %}
			<div id='id_change_rate_form_container'>
				{% if form.unit_type.initial == "imperial" %}
					{{ form.i_change_rate }}
				{% endif %}
				{% if form.unit_type.initial == "metric" %}
					{{ form.m_change_rate }}
				{% endif %}
			</div>
			<br>	
			<button id='id_calc_tdee'>Calculate</button>
			<div id="id_tdee_result"></div>
			<div id="id_change_tdee_result"></div>
		</div>
		<div id="id_choose_macros_form_container">
			<span><p>Choose Macro Ratios</p></span>
			<br>
			<table id='id_choose_macro_table'>
			<tr><td></td><th><span class='choose_macro_titles'>%</span></th><th><span class='choose_macro_titles'>g</span></th></tr>
			<tr><th><span class='choose_macro_titles'>Protein</span></th><td>{{ form.protein_percent }}</td><td>{{ form.protein_g }}</td></tr>
			<tr><th><span class='choose_macro_titles'>Fat</span></th><td>{{ form.fat_percent }}</td><td>{{ form.fat_g }}</td></tr>
			<tr><th><span class='choose_macro_titles'>Carbs</span></th><td>{{ form.carbs_percent }}</td><td>{{ form.carbs_g }}</td></tr>
			<tr><th><span class='choose_macro_titles'>% Remaining</span></th><td><span id="id_macro_percent_total">100</span></td><td></td></tr>
	
			</table>
			<br><button id='id_choose_macros_continue_button' class="btn" disabled>Continue</button>
		</div>
		<div id="id_meal_template_meals_number_form_container">
			<span id="id_meal_template_header">Break Up Your Daily Calories Into Meals/Snacks (Optional)</span>
			<label id="id_meal_template_meals_number_label">Number of meals/snacks per day?</label>
			<input id='id_meal_template_meals_number' type='text' placeholder='# meals/snacks'/>
			<button id='id_meal_template_set_cals_button' class='btn' disabled>Set Calories</button>
		</div>
		<div id="id_meal_template_set_meal_cals_container"></div>
		{% csrf_token %}
		<br><button id='id_save_my_macros_button' class="btn">Save Your Macro Info</button>
		{% if form.errors %}
			<div class="form-group has-error">
				<div class="help-block">{{ form.errors }}</div>
			</div>
		{% endif %}
	</div>
</div>
<script>
	post_my_macros_form();
	switch_between_imperial_metric();
	calc_tdee();
	change_change_rate_display();
	choose_macro_handler();
	continue_button_displays_meal_snack_num_div();
	set_cals_button_is_enabled_upon_input_keyup();
	display_set_cals_form();
	meal_template_set_cals_totaler();
</script>
